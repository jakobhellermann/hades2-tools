var Ge=(J,L)=>()=>(L||J((L={exports:{}}).exports,L),L.exports);var Ke=Ge((Xe,Q)=>{(async()=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))d(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const v of n.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&d(v)}).observe(document,{childList:!0,subtree:!0});function l(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function d(i){if(i.ep)return;i.ep=!0;const n=l(i);fetch(i.href,n)}})();function J(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var L={exports:{}};(function(e,l){(function(d,i){e.exports=i()})(self,()=>(()=>{var d={425:(o,t,a)=>{a.d(t,{Z:()=>f});var u=a(650),m=a.n(u),p=a(196),c=a.n(p)()(m());c.push([o.id,'.json-container{font-family:"Open Sans";font-size:16px;background-color:#fff;color:gray;box-sizing:border-box}.json-container .line{margin:4px 0;display:flex;justify-content:flex-start}.json-container .caret-icon{width:18px;text-align:center;cursor:pointer}.json-container .empty-icon{width:18px}.json-container .json-type{margin-right:4px;margin-left:4px}.json-container .json-key{color:#444;margin-right:4px;margin-left:4px}.json-container .json-index{margin-right:4px;margin-left:4px}.json-container .json-value{margin-left:8px}.json-container .json-number{color:#f9ae58}.json-container .json-boolean{color:#ec5f66}.json-container .json-string{color:#86b25c}.json-container .json-size{margin-right:4px;margin-left:4px}.json-container .hidden{display:none}.json-container .fas{display:inline-block;border-style:solid;width:0;height:0}.json-container .fa-caret-down{border-width:6px 5px 0 5px;border-color:gray rgba(0,0,0,0)}.json-container .fa-caret-right{border-width:5px 0 5px 6px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) gray}',""]);const f=c},196:o=>{o.exports=function(t){var a=[];return a.toString=function(){return this.map(function(u){var m="",p=u[5]!==void 0;return u[4]&&(m+="@supports (".concat(u[4],") {")),u[2]&&(m+="@media ".concat(u[2]," {")),p&&(m+="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {")),m+=t(u),p&&(m+="}"),u[2]&&(m+="}"),u[4]&&(m+="}"),m}).join("")},a.i=function(u,m,p,c,f){typeof u=="string"&&(u=[[null,u,void 0]]);var y={};if(p)for(var _=0;_<this.length;_++){var b=this[_][0];b!=null&&(y[b]=!0)}for(var E=0;E<u.length;E++){var g=[].concat(u[E]);p&&y[g[0]]||(f!==void 0&&(g[5]===void 0||(g[1]="@layer".concat(g[5].length>0?" ".concat(g[5]):""," {").concat(g[1],"}")),g[5]=f),m&&(g[2]&&(g[1]="@media ".concat(g[2]," {").concat(g[1],"}")),g[2]=m),c&&(g[4]?(g[1]="@supports (".concat(g[4],") {").concat(g[1],"}"),g[4]=c):g[4]="".concat(c)),a.push(g))}},a}},650:o=>{o.exports=function(t){return t[1]}},62:o=>{var t=[];function a(p){for(var c=-1,f=0;f<t.length;f++)if(t[f].identifier===p){c=f;break}return c}function u(p,c){for(var f={},y=[],_=0;_<p.length;_++){var b=p[_],E=c.base?b[0]+c.base:b[0],g=f[E]||0,x="".concat(E," ").concat(g);f[E]=g+1;var I=a(x),U={css:b[1],media:b[2],sourceMap:b[3],supports:b[4],layer:b[5]};if(I!==-1)t[I].references++,t[I].updater(U);else{var w=m(U,c);c.byIndex=_,t.splice(_,0,{identifier:x,updater:w,references:1})}y.push(x)}return y}function m(p,c){var f=c.domAPI(c);return f.update(p),function(y){if(y){if(y.css===p.css&&y.media===p.media&&y.sourceMap===p.sourceMap&&y.supports===p.supports&&y.layer===p.layer)return;f.update(p=y)}else f.remove()}}o.exports=function(p,c){var f=u(p=p||[],c=c||{});return function(y){y=y||[];for(var _=0;_<f.length;_++){var b=a(f[_]);t[b].references--}for(var E=u(y,c),g=0;g<f.length;g++){var x=a(f[g]);t[x].references===0&&(t[x].updater(),t.splice(x,1))}f=E}}},566:o=>{var t={};o.exports=function(a,u){var m=function(p){if(t[p]===void 0){var c=document.querySelector(p);if(window.HTMLIFrameElement&&c instanceof window.HTMLIFrameElement)try{c=c.contentDocument.head}catch{c=null}t[p]=c}return t[p]}(a);if(!m)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");m.appendChild(u)}},911:o=>{o.exports=function(t){var a=document.createElement("style");return t.setAttributes(a,t.attributes),t.insert(a,t.options),a}},107:(o,t,a)=>{o.exports=function(u){var m=a.nc;m&&u.setAttribute("nonce",m)}},552:o=>{o.exports=function(t){if(typeof document>"u")return{update:function(){},remove:function(){}};var a=t.insertStyleElement(t);return{update:function(u){(function(m,p,c){var f="";c.supports&&(f+="@supports (".concat(c.supports,") {")),c.media&&(f+="@media ".concat(c.media," {"));var y=c.layer!==void 0;y&&(f+="@layer".concat(c.layer.length>0?" ".concat(c.layer):""," {")),f+=c.css,y&&(f+="}"),c.media&&(f+="}"),c.supports&&(f+="}");var _=c.sourceMap;_&&typeof btoa<"u"&&(f+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(_))))," */")),p.styleTagTransform(f,m,p.options)})(a,t,u)},remove:function(){(function(u){if(u.parentNode===null)return!1;u.parentNode.removeChild(u)})(a)}}}},227:o=>{o.exports=function(t,a){if(a.styleSheet)a.styleSheet.cssText=t;else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(t))}}}},i={};function n(o){var t=i[o];if(t!==void 0)return t.exports;var a=i[o]={id:o,exports:{}};return d[o](a,a.exports,n),a.exports}n.n=o=>{var t=o&&o.__esModule?()=>o.default:()=>o;return n.d(t,{a:t}),t},n.d=(o,t)=>{for(var a in t)n.o(t,a)&&!n.o(o,a)&&Object.defineProperty(o,a,{enumerable:!0,get:t[a]})},n.o=(o,t)=>Object.prototype.hasOwnProperty.call(o,t),n.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},n.nc=void 0;var v={};return(()=>{n.r(v),n.d(v,{collapse:()=>_e,create:()=>K,default:()=>Je,destroy:()=>be,expand:()=>he,render:()=>V,renderJSON:()=>ve,toggleNode:()=>G,traverse:()=>A});var o=n(62),t=n.n(o),a=n(552),u=n.n(a),m=n(566),p=n.n(m),c=n(107),f=n.n(c),y=n(911),_=n.n(y),b=n(227),E=n.n(b),g=n(425),x={};function I(r){return Array.isArray(r)?"array":r===null?"null":typeof r}function U(r){return document.createElement(r)}x.styleTagTransform=E(),x.setAttributes=f(),x.insert=p().bind(null,"head"),x.domAPI=u(),x.insertStyleElement=_(),t()(g.Z,x),g.Z&&g.Z.locals&&g.Z.locals;const w={HIDDEN:"hidden",CARET_ICON:"caret-icon",CARET_RIGHT:"fa-caret-right",CARET_DOWN:"fa-caret-down",ICON:"fas"};function de(r){r.children.forEach(s=>{s.el.classList.add(w.HIDDEN),s.isExpanded&&de(s)})}function ue(r){r.children.forEach(s=>{s.el.classList.remove(w.HIDDEN),s.isExpanded&&ue(s)})}function fe(r){if(r.children.length>0){const s=r.el.querySelector("."+w.ICON);s&&s.classList.replace(w.CARET_RIGHT,w.CARET_DOWN)}}function pe(r){if(r.children.length>0){const s=r.el.querySelector("."+w.ICON);s&&s.classList.replace(w.CARET_DOWN,w.CARET_RIGHT)}}function G(r){r.isExpanded?(r.isExpanded=!1,pe(r),de(r)):(r.isExpanded=!0,fe(r),ue(r))}function A(r,s){s(r),r.children.length>0&&r.children.forEach(h=>{A(h,s)})}function ge(r={}){let s=r.hasOwnProperty("value")?r.value:null;return(h=>I(h)==="object"&&Object.keys(h).length===0)(s)&&(s="{}"),{key:r.key||null,parent:r.parent||null,value:s,isExpanded:r.isExpanded||!1,type:r.type||null,children:r.children||[],el:r.el||null,depth:r.depth||0,dispose:null}}function me(r,s){if(typeof r=="object")for(let h in r){const N=ge({value:r[h],key:h,depth:s.depth+1,type:I(r[h]),parent:s});s.children.push(N),me(r[h],N)}}function ye(r){return typeof r=="string"?JSON.parse(r):r}function K(r){const s=ye(r),h=ge({value:s,key:I(s),type:I(s)});return me(s,h),h}function ve(r,s){const h=K(ye(r));return V(h,s),h}function V(r,s){const h=function(){const N=U("div");return N.className="json-container",N}();A(r,function(N){N.el=function(j){let Z=U("div");const Fe=S=>{const C=S.children.length;return S.type==="array"?`[${C}]`:S.type==="object"?`{${C}}`:null};if(j.children.length>0){Z.innerHTML=function(C={}){const{key:M,size:B}=C;return`
    <div class="line">
      <div class="caret-icon"><i class="fas fa-caret-right"></i></div>
      <div class="json-key">${M}</div>
      <div class="json-size">${B}</div>
    </div>
  `}({key:j.key,size:Fe(j)});const S=Z.querySelector("."+w.CARET_ICON);j.dispose=function(C,M,B){return C.addEventListener(M,B),()=>C.removeEventListener(M,B)}(S,"click",()=>G(j))}else Z.innerHTML=function(S={}){const{key:C,value:M,type:B}=S;return`
    <div class="line">
      <div class="empty-icon"></div>
      <div class="json-key">${C}</div>
      <div class="json-separator">:</div>
      <div class="json-value json-${B}">${M}</div>
    </div>
  `}({key:j.key,value:j.value,type:j.value==="{}"?"object":typeof j.value});const X=Z.children[0];return j.parent!==null&&X.classList.add(w.HIDDEN),X.style="margin-left: "+18*j.depth+"px;",X}(N),h.appendChild(N.el)}),s.appendChild(h)}function he(r){A(r,function(s){s.el.classList.remove(w.HIDDEN),s.isExpanded=!0,fe(s)})}function _e(r){A(r,function(s){s.isExpanded=!1,s.depth>r.depth&&s.el.classList.add(w.HIDDEN),pe(s)})}function be(r){var s;A(r,h=>{h.dispose&&h.dispose()}),(s=r.el.parentNode).parentNode.removeChild(s)}const Je={toggleNode:G,render:V,create:K,renderJSON:ve,expand:he,collapse:_e,traverse:A,destroy:be}})(),v})())})(L);var xe=L.exports;const R=J(xe),we="/hades2-tools/assets/hades2_bindings_bg-CZpsVxX-.wasm",Ee=async(e={},l)=>{let d;if(l.startsWith("data:")){const i=l.replace(/^data:.*?base64,/,"");let n;if(typeof Buffer=="function"&&typeof Buffer.from=="function")n=Buffer.from(i,"base64");else if(typeof atob=="function"){const v=atob(i);n=new Uint8Array(v.length);for(let o=0;o<v.length;o++)n[o]=v.charCodeAt(o)}else throw new Error("Cannot decode base64-encoded data URL");d=await WebAssembly.instantiate(n,e)}else{const i=await fetch(l),n=i.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&n.startsWith("application/wasm"))d=await WebAssembly.instantiateStreaming(i,e);else{const v=await i.arrayBuffer();d=await WebAssembly.instantiate(v,e)}}return d.instance.exports};let T;function je(e){T=e}const Te=typeof TextDecoder>"u"?(0,Q.require)("util").TextDecoder:TextDecoder;let Y=new Te("utf-8",{ignoreBOM:!0,fatal:!0});Y.decode();let $=null;function H(){return($===null||$.byteLength===0)&&($=new Uint8Array(T.memory.buffer)),$}function ee(e,l){return e=e>>>0,Y.decode(H().subarray(e,e+l))}let P=0;function Ne(e,l){const d=l(e.length*1,1)>>>0;return H().set(e,d/1),P=e.length,d}const Ce=typeof TextEncoder>"u"?(0,Q.require)("util").TextEncoder:TextEncoder;let W=new Ce("utf-8");const Oe=typeof W.encodeInto=="function"?function(e,l){return W.encodeInto(e,l)}:function(e,l){const d=W.encode(e);return l.set(d),{read:e.length,written:d.length}};function Ie(e,l,d){if(d===void 0){const t=W.encode(e),a=l(t.length,1)>>>0;return H().subarray(a,a+t.length).set(t),P=t.length,a}let i=e.length,n=l(i,1)>>>0;const v=H();let o=0;for(;o<i;o++){const t=e.charCodeAt(o);if(t>127)break;v[n+o]=t}if(o!==i){o!==0&&(e=e.slice(o)),n=d(n,i,i=o+e.length*3,1)>>>0;const t=H().subarray(n+o,n+i),a=Oe(e,t);o+=a.written,n=d(n,i,o,1)>>>0}return P=o,n}function Le(e){const l=T.__wbindgen_export_0.get(e);return T.__externref_table_dealloc(e),l}function ke(e,l){let d,i;try{const o=Ne(e,T.__wbindgen_malloc),t=P,a=Ie(l,T.__wbindgen_malloc,T.__wbindgen_realloc),u=P,m=T.expand_savefile(o,t,a,u);var n=m[0],v=m[1];if(m[3])throw n=0,v=0,Le(m[2]);return d=n,i=v,ee(n,v)}finally{T.__wbindgen_free(d,i,1)}}function Ae(e,l){return new Error(ee(e,l))}function Se(){const e=T.__wbindgen_export_0,l=e.grow(4);e.set(0,void 0),e.set(l+0,void 0),e.set(l+1,null),e.set(l+2,!0),e.set(l+3,!1)}URL=globalThis.URL;const O=await Ee({"./hades2_bindings_bg.js":{__wbindgen_error_new:Ae,__wbindgen_init_externref_table:Se}},we),Re=O.memory,De=O.expand_savefile,Me=O.__wbindgen_export_0,Be=O.__wbindgen_malloc,He=O.__wbindgen_realloc,Pe=O.__externref_table_dealloc,Ue=O.__wbindgen_free,ne=O.__wbindgen_start,$e=Object.freeze(Object.defineProperty({__proto__:null,__externref_table_dealloc:Pe,__wbindgen_export_0:Me,__wbindgen_free:Ue,__wbindgen_malloc:Be,__wbindgen_realloc:He,__wbindgen_start:ne,expand_savefile:De,memory:Re},Symbol.toStringTag,{value:"Module"}));je($e),ne();let q=document.getElementById("fileselect"),F=document.getElementById("error"),te=document.getElementById("download-text"),re=document.getElementById("download-json"),oe=document.getElementById("load-json"),We=document.getElementById("viewer"),ie=document.getElementById("viewer-controls"),ae=document.getElementById("viewer-control-expand");te.addEventListener("click",()=>k&&ce(k,"text")),re.addEventListener("click",()=>k&&ce(k,"json-pretty")),oe.addEventListener("click",()=>k&&ze(k)),ae.addEventListener("click",Ze),q.addEventListener("change",se),se();let k;async function se(){var d,i;F.innerText="";let e=((d=q.files)==null?void 0:d[0])!=null;te.disabled=!e,re.disabled=!e,oe.disabled=!e;let l=(i=q.files)==null?void 0:i[0];l&&(k=await qe(l))}function qe(e){return new Promise((l,d)=>{let i=new FileReader;i.onerror=d,i.onloadend=n=>l(new Uint8Array(i.result)),i.readAsArrayBuffer(e)})}function le(e,l){try{return ke(e,l)}catch(d){let i;return d instanceof Error?i=d.message:typeof d=="string"?i=d:i=""+d,F.innerText=`Could not parse savefile: ${i}`,null}}async function ce(e,l){var o,t;F.innerText="";let d=le(e,l);if(!d)return;let i=URL.createObjectURL(new Blob([d])),n=document.createElement("a");n.href=i;let v=l=="text"?"txt":"json";n.download=`${(t=(o=q.files)==null?void 0:o[0])==null?void 0:t.name}.${v}`,n.click(),URL.revokeObjectURL(i),n.remove()}let D,z=!1;function ze(e){let l=le(e,"json");l&&(D=R.create(l),R.render(D,We),R.toggleNode(D),ie.hidden=!ie.hidden)}function Ze(){z?(R.collapse(D),R.toggleNode(D)):R.expand(D),z=!z,ae.innerText=z?"Collapse all":"Expand all"}})()});export default Ke();
