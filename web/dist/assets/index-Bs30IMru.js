var Qe=(V,L)=>()=>(L||V((L={exports:{}}).exports,L),L.exports);var Xe=Qe((nn,te)=>{(async()=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))d(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const m of r.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&d(m)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();function V(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var L={exports:{}};(function(e,s){(function(d,i){e.exports=i()})(self,()=>(()=>{var d={425:(o,n,a)=>{a.d(n,{Z:()=>f});var u=a(650),y=a.n(u),p=a(196),l=a.n(p)()(y());l.push([o.id,'.json-container{font-family:"Open Sans";font-size:16px;background-color:#fff;color:gray;box-sizing:border-box}.json-container .line{margin:4px 0;display:flex;justify-content:flex-start}.json-container .caret-icon{width:18px;text-align:center;cursor:pointer}.json-container .empty-icon{width:18px}.json-container .json-type{margin-right:4px;margin-left:4px}.json-container .json-key{color:#444;margin-right:4px;margin-left:4px}.json-container .json-index{margin-right:4px;margin-left:4px}.json-container .json-value{margin-left:8px}.json-container .json-number{color:#f9ae58}.json-container .json-boolean{color:#ec5f66}.json-container .json-string{color:#86b25c}.json-container .json-size{margin-right:4px;margin-left:4px}.json-container .hidden{display:none}.json-container .fas{display:inline-block;border-style:solid;width:0;height:0}.json-container .fa-caret-down{border-width:6px 5px 0 5px;border-color:gray rgba(0,0,0,0)}.json-container .fa-caret-right{border-width:5px 0 5px 6px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) gray}',""]);const f=l},196:o=>{o.exports=function(n){var a=[];return a.toString=function(){return this.map(function(u){var y="",p=u[5]!==void 0;return u[4]&&(y+="@supports (".concat(u[4],") {")),u[2]&&(y+="@media ".concat(u[2]," {")),p&&(y+="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {")),y+=n(u),p&&(y+="}"),u[2]&&(y+="}"),u[4]&&(y+="}"),y}).join("")},a.i=function(u,y,p,l,f){typeof u=="string"&&(u=[[null,u,void 0]]);var h={};if(p)for(var b=0;b<this.length;b++){var _=this[b][0];_!=null&&(h[_]=!0)}for(var E=0;E<u.length;E++){var g=[].concat(u[E]);p&&h[g[0]]||(f!==void 0&&(g[5]===void 0||(g[1]="@layer".concat(g[5].length>0?" ".concat(g[5]):""," {").concat(g[1],"}")),g[5]=f),y&&(g[2]&&(g[1]="@media ".concat(g[2]," {").concat(g[1],"}")),g[2]=y),l&&(g[4]?(g[1]="@supports (".concat(g[4],") {").concat(g[1],"}"),g[4]=l):g[4]="".concat(l)),a.push(g))}},a}},650:o=>{o.exports=function(n){return n[1]}},62:o=>{var n=[];function a(p){for(var l=-1,f=0;f<n.length;f++)if(n[f].identifier===p){l=f;break}return l}function u(p,l){for(var f={},h=[],b=0;b<p.length;b++){var _=p[b],E=l.base?_[0]+l.base:_[0],g=f[E]||0,x="".concat(E," ").concat(g);f[E]=g+1;var C=a(x),$={css:_[1],media:_[2],sourceMap:_[3],supports:_[4],layer:_[5]};if(C!==-1)n[C].references++,n[C].updater($);else{var w=y($,l);l.byIndex=b,n.splice(b,0,{identifier:x,updater:w,references:1})}h.push(x)}return h}function y(p,l){var f=l.domAPI(l);return f.update(p),function(h){if(h){if(h.css===p.css&&h.media===p.media&&h.sourceMap===p.sourceMap&&h.supports===p.supports&&h.layer===p.layer)return;f.update(p=h)}else f.remove()}}o.exports=function(p,l){var f=u(p=p||[],l=l||{});return function(h){h=h||[];for(var b=0;b<f.length;b++){var _=a(f[b]);n[_].references--}for(var E=u(h,l),g=0;g<f.length;g++){var x=a(f[g]);n[x].references===0&&(n[x].updater(),n.splice(x,1))}f=E}}},566:o=>{var n={};o.exports=function(a,u){var y=function(p){if(n[p]===void 0){var l=document.querySelector(p);if(window.HTMLIFrameElement&&l instanceof window.HTMLIFrameElement)try{l=l.contentDocument.head}catch{l=null}n[p]=l}return n[p]}(a);if(!y)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");y.appendChild(u)}},911:o=>{o.exports=function(n){var a=document.createElement("style");return n.setAttributes(a,n.attributes),n.insert(a,n.options),a}},107:(o,n,a)=>{o.exports=function(u){var y=a.nc;y&&u.setAttribute("nonce",y)}},552:o=>{o.exports=function(n){if(typeof document>"u")return{update:function(){},remove:function(){}};var a=n.insertStyleElement(n);return{update:function(u){(function(y,p,l){var f="";l.supports&&(f+="@supports (".concat(l.supports,") {")),l.media&&(f+="@media ".concat(l.media," {"));var h=l.layer!==void 0;h&&(f+="@layer".concat(l.layer.length>0?" ".concat(l.layer):""," {")),f+=l.css,h&&(f+="}"),l.media&&(f+="}"),l.supports&&(f+="}");var b=l.sourceMap;b&&typeof btoa<"u"&&(f+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(b))))," */")),p.styleTagTransform(f,y,p.options)})(a,n,u)},remove:function(){(function(u){if(u.parentNode===null)return!1;u.parentNode.removeChild(u)})(a)}}}},227:o=>{o.exports=function(n,a){if(a.styleSheet)a.styleSheet.cssText=n;else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(n))}}}},i={};function r(o){var n=i[o];if(n!==void 0)return n.exports;var a=i[o]={id:o,exports:{}};return d[o](a,a.exports,r),a.exports}r.n=o=>{var n=o&&o.__esModule?()=>o.default:()=>o;return r.d(n,{a:n}),n},r.d=(o,n)=>{for(var a in n)r.o(n,a)&&!r.o(o,a)&&Object.defineProperty(o,a,{enumerable:!0,get:n[a]})},r.o=(o,n)=>Object.prototype.hasOwnProperty.call(o,n),r.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},r.nc=void 0;var m={};return(()=>{r.r(m),r.d(m,{collapse:()=>we,create:()=>X,default:()=>Ve,destroy:()=>Ee,expand:()=>xe,render:()=>ee,renderJSON:()=>_e,toggleNode:()=>Q,traverse:()=>A});var o=r(62),n=r.n(o),a=r(552),u=r.n(a),y=r(566),p=r.n(y),l=r(107),f=r.n(l),h=r(911),b=r.n(h),_=r(227),E=r.n(_),g=r(425),x={};function C(t){return Array.isArray(t)?"array":t===null?"null":typeof t}function $(t){return document.createElement(t)}x.styleTagTransform=E(),x.setAttributes=f(),x.insert=p().bind(null,"head"),x.domAPI=u(),x.insertStyleElement=b(),n()(g.Z,x),g.Z&&g.Z.locals&&g.Z.locals;const w={HIDDEN:"hidden",CARET_ICON:"caret-icon",CARET_RIGHT:"fa-caret-right",CARET_DOWN:"fa-caret-down",ICON:"fas"};function pe(t){t.children.forEach(c=>{c.el.classList.add(w.HIDDEN),c.isExpanded&&pe(c)})}function ye(t){t.children.forEach(c=>{c.el.classList.remove(w.HIDDEN),c.isExpanded&&ye(c)})}function ge(t){if(t.children.length>0){const c=t.el.querySelector("."+w.ICON);c&&c.classList.replace(w.CARET_RIGHT,w.CARET_DOWN)}}function he(t){if(t.children.length>0){const c=t.el.querySelector("."+w.ICON);c&&c.classList.replace(w.CARET_DOWN,w.CARET_RIGHT)}}function Q(t){t.isExpanded?(t.isExpanded=!1,he(t),pe(t)):(t.isExpanded=!0,ge(t),ye(t))}function A(t,c){c(t),t.children.length>0&&t.children.forEach(v=>{A(v,c)})}function ve(t={}){let c=t.hasOwnProperty("value")?t.value:null;return(v=>C(v)==="object"&&Object.keys(v).length===0)(c)&&(c="{}"),{key:t.key||null,parent:t.parent||null,value:c,isExpanded:t.isExpanded||!1,type:t.type||null,children:t.children||[],el:t.el||null,depth:t.depth||0,dispose:null}}function me(t,c){if(typeof t=="object")for(let v in t){const N=ve({value:t[v],key:v,depth:c.depth+1,type:C(t[v]),parent:c});c.children.push(N),me(t[v],N)}}function be(t){return typeof t=="string"?JSON.parse(t):t}function X(t){const c=be(t),v=ve({value:c,key:C(c),type:C(c)});return me(c,v),v}function _e(t,c){const v=X(be(t));return ee(v,c),v}function ee(t,c){const v=function(){const N=$("div");return N.className="json-container",N}();A(t,function(N){N.el=function(j){let K=$("div");const Ye=S=>{const k=S.children.length;return S.type==="array"?`[${k}]`:S.type==="object"?`{${k}}`:null};if(j.children.length>0){K.innerHTML=function(k={}){const{key:M,size:P}=k;return`
    <div class="line">
      <div class="caret-icon"><i class="fas fa-caret-right"></i></div>
      <div class="json-key">${M}</div>
      <div class="json-size">${P}</div>
    </div>
  `}({key:j.key,size:Ye(j)});const S=K.querySelector("."+w.CARET_ICON);j.dispose=function(k,M,P){return k.addEventListener(M,P),()=>k.removeEventListener(M,P)}(S,"click",()=>Q(j))}else K.innerHTML=function(S={}){const{key:k,value:M,type:P}=S;return`
    <div class="line">
      <div class="empty-icon"></div>
      <div class="json-key">${k}</div>
      <div class="json-separator">:</div>
      <div class="json-value json-${P}">${M}</div>
    </div>
  `}({key:j.key,value:j.value,type:j.value==="{}"?"object":typeof j.value});const ne=K.children[0];return j.parent!==null&&ne.classList.add(w.HIDDEN),ne.style="margin-left: "+18*j.depth+"px;",ne}(N),v.appendChild(N.el)}),c.appendChild(v)}function xe(t){A(t,function(c){c.el.classList.remove(w.HIDDEN),c.isExpanded=!0,ge(c)})}function we(t){A(t,function(c){c.isExpanded=!1,c.depth>t.depth&&c.el.classList.add(w.HIDDEN),he(c)})}function Ee(t){var c;A(t,v=>{v.dispose&&v.dispose()}),(c=t.el.parentNode).parentNode.removeChild(c)}const Ve={toggleNode:Q,render:ee,create:X,renderJSON:_e,expand:xe,collapse:we,traverse:A,destroy:Ee}})(),m})())})(L);var je=L.exports;const R=V(je),Te="/hades2-tools/assets/hades2_bindings_bg-6N_tYlBW.wasm",Ie=async(e={},s)=>{let d;if(s.startsWith("data:")){const i=s.replace(/^data:.*?base64,/,"");let r;if(typeof Buffer=="function"&&typeof Buffer.from=="function")r=Buffer.from(i,"base64");else if(typeof atob=="function"){const m=atob(i);r=new Uint8Array(m.length);for(let o=0;o<m.length;o++)r[o]=m.charCodeAt(o)}else throw new Error("Cannot decode base64-encoded data URL");d=await WebAssembly.instantiate(r,e)}else{const i=await fetch(s),r=i.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&r.startsWith("application/wasm"))d=await WebAssembly.instantiateStreaming(i,e);else{const m=await i.arrayBuffer();d=await WebAssembly.instantiate(m,e)}}return d.instance.exports};let T;function Ne(e){T=e}const ke=typeof TextDecoder>"u"?(0,te.require)("util").TextDecoder:TextDecoder;let re=new ke("utf-8",{ignoreBOM:!0,fatal:!0});re.decode();let q=null;function H(){return(q===null||q.byteLength===0)&&(q=new Uint8Array(T.memory.buffer)),q}function oe(e,s){return e=e>>>0,re.decode(H().subarray(e,e+s))}const I=new Array(128).fill(void 0);I.push(void 0,null,!0,!1);let U=I.length;function Ce(e){U===I.length&&I.push(I.length+1);const s=U;return U=I[s],I[s]=e,s}let W=0;function Le(e,s){const d=s(e.length*1,1)>>>0;return H().set(e,d/1),W=e.length,d}const Oe=typeof TextEncoder>"u"?(0,te.require)("util").TextEncoder:TextEncoder;let z=new Oe("utf-8");const Ae=typeof z.encodeInto=="function"?function(e,s){return z.encodeInto(e,s)}:function(e,s){const d=z.encode(e);return s.set(d),{read:e.length,written:d.length}};function Se(e,s,d){if(d===void 0){const n=z.encode(e),a=s(n.length,1)>>>0;return H().subarray(a,a+n.length).set(n),W=n.length,a}let i=e.length,r=s(i,1)>>>0;const m=H();let o=0;for(;o<i;o++){const n=e.charCodeAt(o);if(n>127)break;m[r+o]=n}if(o!==i){o!==0&&(e=e.slice(o)),r=d(r,i,i=o+e.length*3,1)>>>0;const n=H().subarray(r+o,r+i),a=Ae(e,n);o+=a.written,r=d(r,i,o,1)>>>0}return W=o,r}let Z=null;function J(){return(Z===null||Z.byteLength===0)&&(Z=new Int32Array(T.memory.buffer)),Z}function Re(e){return I[e]}function De(e){e<132||(I[e]=U,U=e)}function Be(e){const s=Re(e);return De(e),s}function Me(e,s){let d,i;try{const y=T.__wbindgen_add_to_stack_pointer(-16),p=Le(e,T.__wbindgen_malloc),l=W,f=Se(s,T.__wbindgen_malloc,T.__wbindgen_realloc),h=W;T.expand_savefile(y,p,l,f,h);var r=J()[y/4+0],m=J()[y/4+1],o=J()[y/4+2],n=J()[y/4+3],a=r,u=m;if(n)throw a=0,u=0,Be(o);return d=a,i=u,oe(a,u)}finally{T.__wbindgen_add_to_stack_pointer(16),T.__wbindgen_free(d,i,1)}}function Pe(e,s){const d=new Error(oe(e,s));return Ce(d)}URL=globalThis.URL;const D=await Ie({"./hades2_bindings_bg.js":{__wbindgen_error_new:Pe}},Te),He=D.memory,Ue=D.expand_savefile,We=D.__wbindgen_add_to_stack_pointer,$e=D.__wbindgen_malloc,qe=D.__wbindgen_realloc,ze=D.__wbindgen_free,Ze=Object.freeze(Object.defineProperty({__proto__:null,__wbindgen_add_to_stack_pointer:We,__wbindgen_free:ze,__wbindgen_malloc:$e,__wbindgen_realloc:qe,expand_savefile:Ue,memory:He},Symbol.toStringTag,{value:"Module"}));Ne(Ze);let F=document.getElementById("fileselect"),Y=document.getElementById("error"),ie=document.getElementById("download-text"),ae=document.getElementById("download-json"),ce=document.getElementById("load-json"),Je=document.getElementById("viewer"),le=document.getElementById("viewer-controls"),se=document.getElementById("viewer-control-expand");ie.addEventListener("click",()=>O&&fe(O,"text")),ae.addEventListener("click",()=>O&&fe(O,"json-pretty")),ce.addEventListener("click",()=>O&&Ge(O)),se.addEventListener("click",Ke),F.addEventListener("change",de),de();let O;async function de(){var d,i;Y.innerText="";let e=((d=F.files)==null?void 0:d[0])!=null;ie.disabled=!e,ae.disabled=!e,ce.disabled=!e;let s=(i=F.files)==null?void 0:i[0];s&&(O=await Fe(s))}function Fe(e){return new Promise((s,d)=>{let i=new FileReader;i.onerror=d,i.onloadend=r=>s(new Uint8Array(i.result)),i.readAsArrayBuffer(e)})}function ue(e,s){try{return Me(e,s)}catch(d){let i;return d instanceof Error?i=d.message:typeof d=="string"?i=d:i=""+d,Y.innerText=`Could not parse savefile: ${i}`,null}}async function fe(e,s){var o,n;Y.innerText="";let d=ue(e,s);if(!d)return;let i=URL.createObjectURL(new Blob([d])),r=document.createElement("a");r.href=i;let m=s=="text"?"txt":"json";r.download=`${(n=(o=F.files)==null?void 0:o[0])==null?void 0:n.name}.${m}`,r.click(),URL.revokeObjectURL(i),r.remove()}let B,G=!1;function Ge(e){let s=ue(e,"json");s&&(B=R.create(s),R.render(B,Je),R.toggleNode(B),le.hidden=!le.hidden)}function Ke(){G?(R.collapse(B),R.toggleNode(B)):R.expand(B),G=!G,se.innerText=G?"Collapse all":"Expand all"}})()});export default Xe();
